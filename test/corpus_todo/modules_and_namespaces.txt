================================================================================
Module 1
================================================================================

module Foo

--------------------------------------------------------------------------------

(source_file
  (module
    (module_name
      (qid))))

================================================================================
Module 2
================================================================================

module Foo.Bar

--------------------------------------------------------------------------------

(source_file
  (module
    (module_name
      (qid))))

================================================================================
Export function
================================================================================

export
f : _

--------------------------------------------------------------------------------

(source_file
  (function
    (visibility)
    (lhs
      (function_name
        (atom
          (qid))))
    (rhs
      (expr
        (atom
          (hole))))))

================================================================================
Public export function
================================================================================

public export
f : _

--------------------------------------------------------------------------------

(source_file
  (function
    (visibility)
    (lhs
      (function_name
        (atom
          (qid))))
    (rhs
      (expr
        (atom
          (hole))))))

================================================================================
Export data
================================================================================

export
data X = _

--------------------------------------------------------------------------------

(source_file
  (data
    (visibility)
    (data_name)
    (expr
      (atom
        (hole)))))

================================================================================
Public export data
================================================================================

public export
data X = _

--------------------------------------------------------------------------------

(source_file
  (data
    (visibility)
    (data_name)
    (expr
      (atom
        (hole)))))

================================================================================
Export interface
================================================================================

export
interface I

--------------------------------------------------------------------------------

(source_file
  (interface
    (visibility)
    (interface_name)))

================================================================================
Public export interface
================================================================================

public export
interface I

--------------------------------------------------------------------------------

(source_file
  (interface
    (visibility)
    (interface_name)))

================================================================================
Private fixity
================================================================================

private
infix 5 +

--------------------------------------------------------------------------------

(source_file
  (infix
    (visibility)
    (integer)
    (bid)))

================================================================================
Export fixity
================================================================================

export
infix 6 *

--------------------------------------------------------------------------------

(source_file
  (infix
    (visibility)
    (integer)
    (bid)))

================================================================================
Public export fixity
================================================================================

public export
infix 7 ^

--------------------------------------------------------------------------------

(source_file
  (infix
    (visibility)
    (integer)
    (bid)))

================================================================================
Import
================================================================================

import B

--------------------------------------------------------------------------------

(source_file
  (import
    (module_name
      (qid))))

================================================================================
Re-export
================================================================================

import public C

--------------------------------------------------------------------------------

(source_file
  (import
    (public)
    (module_name
      (qid))))

================================================================================
Renaming imports 1
================================================================================

import Data.List as L

--------------------------------------------------------------------------------

(source_file
  (import
    (module_name
      (qid))
    (as
      (module_name
        (qid)))))

================================================================================
Renaming imports 2
================================================================================

import public Books.Hardback as Books

--------------------------------------------------------------------------------

(source_file
  (import
    (public)
    (module_name
      (qid))
    (as
      (module_name
        (qid)))))

================================================================================
Explicit Namespaces
================================================================================

namespace X
  export
  test : Int -> Int

--------------------------------------------------------------------------------

(source_file
  (function
    (lhs
      (function_name
        (atom
          (qid))
        (atom
          (qid))
        (atom
          (qid))
        (atom
          (qid))))
    (rhs
      (expr
        (atom
          (qid))
        (expr
          (atom
            (qid)))))))

================================================================================
Explicit namespaces inside functions
================================================================================

withNSInside = g where
  namespace X
    export
    g : Nat

--------------------------------------------------------------------------------

(source_file
  (function
    (lhs
      (atom
        (qid)))
    (rhs
      (expr
        (atom
          (qid))))
    (where
      (function
        (lhs
          (function_name
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))))
        (rhs
          (expr
            (atom
              (qid))))))))

================================================================================
Parameterised blocks 1
================================================================================

parameters (x : Nat, y : Nat)
  addAll : Nat -> Nat

--------------------------------------------------------------------------------

(source_file
  (function
    (lhs
      (function_name
        (atom
          (qid))
        (atom
          (expr
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))))
        (atom
          (qid))))
    (rhs
      (expr
        (atom
          (qid))
        (expr
          (atom
            (qid)))))))

================================================================================
Parameterised blocks 2
================================================================================

parameters (y : Nat, xs : Vect x a)
  data Vects : Type -> Type where
    MkVects : Vect y a -> Vects a

  append : Vects a -> Vect (x + y) a

--------------------------------------------------------------------------------

(source_file
  (function
    (lhs
      (function_name
        (atom
          (qid))
        (atom
          (expr
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))))
        (atom
          (qid))
        (atom
          (qid))))
    (rhs
      (expr
        (atom
          (qid))
        (expr
          (atom
            (qid))
          (atom
            (qid))
          (atom
            (qid))
          (atom
            (qid))
          (atom
            (qid))
          (atom
            (qid))
          (atom
            (qid))
          (expr
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (atom
              (qid))
            (expr
              (atom
                (qid))
              (atom
                (expr
                  (atom
                    (qid))
                  (atom
                    (qid))
                  (atom
                    (qid))))
              (atom
                (qid)))))))))
