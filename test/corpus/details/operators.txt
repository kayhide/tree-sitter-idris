================================================================================
Operator signature 1
================================================================================

(+) : a -> a -> a

--------------------------------------------------------------------------------

(idris
  (signature
    (operator)
    (colon)
    (exp_name
      (loname))
    (arrow_separator)
    (exp_name
      (loname))
    (arrow_separator)
    (exp_name
      (loname))))

================================================================================
Operator signature 2
================================================================================

(-) : a -> a -> a

--------------------------------------------------------------------------------

(idris
  (signature
    (operator)
    (colon)
    (exp_name
      (loname))
    (arrow_separator)
    (exp_name
      (loname))
    (arrow_separator)
    (exp_name
      (loname))))

================================================================================
Operator sections
================================================================================

_ = map (* 2) intVec

--------------------------------------------------------------------------------

(idris
  (function
    (lhs
      (wildcard))
    (rhs
      (exp_name
        (loname))
      (exp_parens
        (operator)
        (literal
          (integer)))
      (exp_name
        (loname)))))

================================================================================
Operator application - (#)
================================================================================

_ = x # y

--------------------------------------------------------------------------------

(idris
  (function
    (lhs
      (wildcard))
    (rhs
      (exp_name
        (loname))
      (operator)
      (exp_name
        (loname)))))

================================================================================
Operator application - (?)
================================================================================

_ = x ? y

--------------------------------------------------------------------------------

(idris
  (function
    (lhs
      (wildcard))
    (rhs
      (exp_name
        (loname))
      (operator)
      (exp_name
        (loname)))))

================================================================================
Operator declaration 1
================================================================================

(+) x y = _

--------------------------------------------------------------------------------

(idris
  (function
    (lhs
      (funvar
        (operator)
        (patterns
          (pat_name
            (loname))
          (pat_name
            (loname)))))
    (rhs
      (wildcard))))

================================================================================
Operator declaration 2
================================================================================

(f <+> g) x = f x <+> g x

--------------------------------------------------------------------------------

(idris
  (function
    (lhs
      (pat_parens
        (pat_name
          (loname))
        (pat_op)
        (pat_name
          (loname)))
      (pat_name
        (loname)))
    (rhs
      (exp_name
        (loname))
      (exp_name
        (loname))
      (operator)
      (exp_name
        (loname))
      (exp_name
        (loname)))))

================================================================================
Operator declaration 3
================================================================================

x :: xs == y :: ys = _

--------------------------------------------------------------------------------

(idris
  (function
    (lhs
      (funvar
        (loname)
        (patterns
          (pat_op)
          (pat_name
            (loname))
          (pat_op)
          (pat_name
            (loname))
          (pat_op)
          (pat_name
            (loname)))))
    (rhs
      (wildcard))))

================================================================================
Operator declaration - impossible
================================================================================

_ == _ impossible

--------------------------------------------------------------------------------

(idris
  (function
    (lhs
      (wildcard)
      (pat_op)
      (wildcard))
    (impossible)))

================================================================================
Operator infix 1
================================================================================

infix 6 ===, ~=~

--------------------------------------------------------------------------------

(idris
  (fixity
    (integer)
    (operator)
    (comma)
    (operator)))

================================================================================
Operator infix 2
================================================================================

infixl 9 `div`, `mod`

--------------------------------------------------------------------------------

(idris
  (fixity
    (integer)
    (ticked_operator
      (loname))
    (comma)
    (ticked_operator
      (loname))))

================================================================================
Operator prefix
================================================================================

prefix 1  |~

--------------------------------------------------------------------------------

(idris
  (fixity
    (integer)
    (operator)))

================================================================================
Dot operator
================================================================================

(.unVal) : Singleton {a} x -> a
(.unVal) = unVal

--------------------------------------------------------------------------------

(idris
  (signature
    (dot_operator)
    (colon)
    (exp_name
      (caname))
    (type_braces
      (exp_name
        (loname)))
    (exp_name
      (loname))
    (arrow_separator)
    (exp_name
      (loname)))
  (function
    (lhs
      (funvar
        (dot_operator)))
    (rhs
      (exp_name
        (loname)))))

================================================================================
Dot operators chained
================================================================================

_ = (fileTime h <&> (.atime.sec)) @{Compose}

--------------------------------------------------------------------------------

(idris
  (function
    (lhs
      (wildcard))
    (rhs
      (exp_parens
        (exp_name
          (loname))
        (exp_name
          (loname))
        (operator)
        (exp_name
          (dot_operator)
          (dot_operator)))
      (exp_explicit_impl
        (exp_name
          (caname))))))
